<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cadastro de Animal - Imagem</title>
  <link rel="stylesheet" href="cadastro_3.css" />
</head>
<body>
  <div class="container">
    <img src="Images/Logo.png" alt="Logo" class="logo" />
    <img src="Images/Cachorro e gato.png" alt="Cachorro e gato" class="img-right" />

    <div class="form-box">
      <div class="form-group">
        <label for="imagem">Foto do Animal <span style="color: red;">*</span></label>
        <input type="file" id="imagem" name="imagem" accept="image/*" />
      </div>

      <div class="form-group">
        <label for="descricao">Descrição adicional</label>
        <input type="text" id="descricao" name="descricao" placeholder="Ex: Tem uma coleira azul...">
      </div>

      <div class="buttons">
        <button class="btn voltar">Voltar</button>
        <button class="btn concluir">Concluir</button>
      </div>
    </div>
  </div>

  <script>
    document.querySelector('.voltar').addEventListener('click', () => {
      window.location.href = 'cadastro_2.html';
    });

    document.querySelector('.concluir').addEventListener('click', () => {
      const imagem = document.getElementById('imagem').files[0];

      if (!imagem) {
        alert("Por favor, selecione uma imagem antes de concluir.");
        return;
      }

      const reader = new FileReader();
      reader.onload = function () {
        localStorage.setItem('imagemAnimal', reader.result);
        localStorage.setItem('descricaoAnimal', document.getElementById('descricao').value.trim());
        // Finaliza sem alert
      };
      reader.readAsDataURL(imagem);
    });

    window.addEventListener('DOMContentLoaded', () => {
      document.getElementById('descricao').value = localStorage.getItem('descricaoAnimal') || '';
    });
  </script>
</body>
</html>
